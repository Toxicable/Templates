webpackJsonp([0],{0:function(e,t,o){(function(e){"use strict";function main(){return n.platformBrowserDynamic().bootstrapModule(i.AppModule).then(function(t){return e.hot&&(e.hot.accept(),t.instance.hmrOnInit&&e.hot.data&&t.instance.hmrOnInit(e.hot.data),t.instance.hmrOnStatus&&e.hot.apply(function(e){t.instance.hmrOnStatus(e)}),t.instance.hmrOnCheck&&e.hot.check(function(e,o){t.instance.hmrOnCheck(e,o)}),t.instance.hmrOnDecline&&e.hot.decline(function(e){t.instance.hmrOnDecline(e)}),e.hot.dispose(function(e){t.instance.hmrOnDestroy&&t.instance.hmrOnDestroy(e),t.destroy(),t.instance.hmrAfterDestroy&&t.instance.hmrAfterDestroy(e)})),t})}var n=o(2),r=o(4),i=o(24);o(429);t.main=main,r.enableProdMode(),"complete"===document.readyState?main():document.addEventListener("DOMContentLoaded",main)}).call(t,o(1)(e))},1:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},24:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=o(22),s=o(25),c=o(366),u=o(376),f=o(409),p=o(410),l=o(411),d=o(416),m=o(427),h=o(378),y=o(397),g=o(428),v=o(429),b=function(){function AppModule(e){this.appRef=e}return AppModule.prototype.hmrOnInit=function(e){e&&e.state&&(console.log("HMR store",e),console.log("store.state.data:",e.state.data),"restoreInputValues"in e&&e.restoreInputValues(),this.appRef.tick(),delete e.state,delete e.restoreInputValues)},AppModule.prototype.hmrOnDestroy=function(e){var t=this.appRef.components.map(function(e){return e.location.nativeElement});e.disposeOldHosts=v.createNewHosts(t),e.state={data:"yolo"},e.restoreInputValues=v.createInputTransfer(),v.removeNgStyles()},AppModule.prototype.hmrAfterDestroy=function(e){e.disposeOldHosts(),delete e.disposeOldHosts},AppModule=n([i.NgModule({imports:[a.BrowserModule,u.AuthModule,d.AdminModule,h.ReactiveFormsModule,y.SharedModule,g.CoreModule,c.routing],declarations:[s.AppComponent,f.HomeComponent,p.NotFoundComponent,l.NavigationComponent,m.UnauthorizedComponent],bootstrap:[s.AppComponent]}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.ApplicationRef&&i.ApplicationRef)&&e||Object])],AppModule);var e}();t.AppModule=b},25:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=o(26),s=function(){function AppComponent(e){this.auth=e}return AppComponent.prototype.ngOnInit=function(){this.auth.startupTokenRefresh()},AppComponent.prototype.ngOnDestroy=function(){this.auth.unsubscribeRefresh()},AppComponent=n([i.Component({selector:"my-app",template:"\n<loading-bar></loading-bar>\n<alert></alert>\n<navigation></navigation>\n<router-outlet></router-outlet>\n",encapsulation:i.ViewEncapsulation.None,styles:[o(363)]}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.AuthService&&a.AuthService)&&e||Object])],AppComponent);var e}();t.AppComponent=s},26:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=o(27),s=o(28),c=o(6),u=o(44),f=function(){function AuthService(e,t){this.http=e,this.authHttp=t,this.jwtHelper=new s.JwtHelper}return Object.defineProperty(AuthService.prototype,"isLoggedIn",{get:function(){var e=this.retrieveAccessToken();return!!e&&!this.jwtHelper.isTokenExpired(e)},enumerable:!0,configurable:!0}),AuthService.prototype.logout=function(){this.removeTokens(),this.unsubscribeRefresh()},AuthService.prototype.unsubscribeRefresh=function(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()},AuthService.prototype.login=function(e){var t=this;return this.getTokens(e,"password").map(function(e){return t.storeTokens(e.json()),t.scheduleRefresh(),!0})["catch"](u.HttpExceptions.handleTokenBadRequest)},AuthService.prototype.register=function(e){var t=new a.Headers({"Content-Type":"application/json"}),o=new a.RequestOptions({headers:t});return this.http.post("api/account/create",e,o).map(function(e){return e})["catch"](u.HttpExceptions.handleError)},AuthService.prototype.tryGetAccessToken=function(){var e=this;return this.isLoggedIn?c.Observable.of(this.retrieveAccessToken()):this.refreshTokens().mergeMap(function(t){return e.storeTokens(t.json()),e.retrieveAccessToken()})},AuthService.prototype.refreshTokens=function(){var e=this;return this.getTokens({refresh_token:this.retrieveRefreshToken()},"refresh_token").map(function(t){e.storeTokens(t.json())})["catch"](function(e){return c.Observable["throw"]("refresh token has expired")})},AuthService.prototype.startupTokenRefresh=function(){var e=this;this.refreshTokens().subscribe(function(){return e.scheduleRefresh()},function(e){console.log(e),console.log("we can probs redirect here")})},AuthService.prototype.scheduleRefresh=function(){var e=this,t=this.authHttp.tokenStream.flatMap(function(t){var o=e.jwtHelper.decodeToken(t),n=new Date(localStorage.getItem(".issued")).getTime()/1e3,r=10,i=1e3*(o.exp-n-r);return c.Observable.interval(i)});this.refreshSubscription=t.subscribe(function(){e.refreshTokens().subscribe()})},AuthService.prototype.storeTokens=function(e){var t=this.jwtHelper.decodeToken(e.access_token);localStorage.setItem(".issued",e[".issued"]),localStorage.setItem("access_token",e.access_token),localStorage.setItem("refresh_token",e.refresh_token),localStorage.setItem("profile",JSON.stringify(t))},AuthService.prototype.removeTokens=function(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("profile")},AuthService.prototype.retrieveAccessToken=function(){return localStorage.getItem("access_token")},AuthService.prototype.retrieveRefreshToken=function(){return localStorage.getItem("refresh_token")},AuthService.prototype.retrieveProfile=function(){return JSON.parse(localStorage.getItem("profile"))},AuthService.prototype.getTokens=function(e,t){var o=new a.Headers({"Content-Type":"application/x-www-form-urlencoded"}),n=new a.RequestOptions({headers:o});return Object.assign(e,{grant_type:t,client_id:"AngularApp"}),this.http.post("api/token",this.encodeObjectToParams(e),n)},AuthService.prototype.encodeObjectToParams=function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")},AuthService=n([i.Injectable(),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.Http&&a.Http)&&e||Object,"function"==typeof(t="undefined"!=typeof s.AuthHttp&&s.AuthHttp)&&t||Object])],AuthService);var e,t}();t.AuthService=f},44:function(e,t,o){"use strict";var n=o(45),r=function(){function HttpExceptions(){}return HttpExceptions.prototype.catchErrorCodes=function(e){},HttpExceptions.handleError=function(e){switch(e.status){case 400:return HttpExceptions.handleBadRequest(e)}},HttpExceptions.handleTokenBadRequest=function(e){var t=e.json(),o=t.error_description;return n.Observable["throw"]([o])},HttpExceptions.handleBadRequest=function(e){var t=e.json(),o=t.modelState[""].map(function(e){return e});return n.Observable["throw"](o)},HttpExceptions}();t.HttpExceptions=r},363:function(e,t,o){var n=o(364);"string"==typeof n?e.exports=n:e.exports=n.toString()},364:function(e,t,o){t=e.exports=o(365)(),t.push([e.id,"body{font-family:Arial;margin:0!important}",""])},365:function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var o=this[t];o[2]?e.push("@media "+o[2]+"{"+o[1]+"}"):e.push(o[1])}return e.join("")},e.i=function(t,o){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(n[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&n[a[0]]||(o&&!a[2]?a[2]=o:o&&(a[2]="("+a[2]+") and ("+o+")"),e.push(a))}},e}},366:function(e,t,o){"use strict";var n=o(367),r=o(368),i=o(372),a=o(374),s=[{path:"",component:r.HomeComponent},{path:"home",component:r.HomeComponent},{path:"unauthorized",component:a.UnauthorizedComponent},{path:"**",component:i.NotFoundComponent}];t.routing=n.RouterModule.forRoot(s)},368:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=o(367),s=o(369),c=o(26),u=o(28),f=function(){function HomeComponent(e,t,o,n){this.router=e,this.alertService=t,this.authHttp=o,this.auth=n}return HomeComponent.prototype.testAuth=function(){var e=this;this.authHttp.get("api/account/isauthenticated").subscribe(function(t){return e.alertService.sendSuccess("all goods")},function(t){return e.alertService.sendWarning(t)})},HomeComponent.prototype.refreshTokens=function(){this.auth.refreshTokens().subscribe()},HomeComponent=n([i.Component({selector:"home",template:o(371)}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.Router&&a.Router)&&e||Object,"function"==typeof(t="undefined"!=typeof s.AlertService&&s.AlertService)&&t||Object,"function"==typeof(f="undefined"!=typeof u.AuthHttp&&u.AuthHttp)&&f||Object,"function"==typeof(p="undefined"!=typeof c.AuthService&&c.AuthService)&&p||Object])],HomeComponent);var e,t,f,p}();t.HomeComponent=f},369:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=o(45),s=o(370),c=function(){function AlertService(){this.alertMessage=new a.Subject,this.alertAnnounced$=this.alertMessage.asObservable()}return AlertService.prototype.sendSuccess=function(e){this.sendAlert({message:e,type:s.AlertType.success})},AlertService.prototype.sendInfo=function(e){this.sendAlert({message:e,type:s.AlertType.info})},AlertService.prototype.sendWarning=function(e){this.sendAlert({message:e,type:s.AlertType.warning})},AlertService.prototype.sendError=function(e){this.sendAlert({message:e,type:s.AlertType.error})},AlertService.prototype.sendAlert=function(e){this.alertMessage.next(e)},AlertService=n([i.Injectable(),r("design:paramtypes",[])],AlertService)}();t.AlertService=c},370:function(e,t){"use strict";!function(e){e[e.success=0]="success",e[e.info=1]="info",e[e.warning=2]="warning",e[e.error=3]="error"}(t.AlertType||(t.AlertType={}));t.AlertType},371:function(e,t){e.exports='We are home :D\r\n<button (click)="testAuth()" >Test to see if you\'re loged in</button>\r\n{{testResult}}\r\n\r\nhelloaa ola\r\n\r\n<button (click)="refreshTokens()">Refresh Tokens</button>'},372:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=function(){function NotFoundComponent(){}return NotFoundComponent=n([i.Component({selector:"not-found",template:o(373)}),r("design:paramtypes",[])],NotFoundComponent)}();t.NotFoundComponent=a},373:function(e,t){e.exports="404 not found soz"},374:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=function(){function UnauthorizedComponent(){}return UnauthorizedComponent=n([i.Component({selector:"my-app",template:o(375)}),r("design:paramtypes",[])],UnauthorizedComponent)}();t.UnauthorizedComponent=a},375:function(e,t){e.exports="Sorry you are unauthorized and cannot view that page.\r\nPlease login"},376:function(e,t,o){"use strict";function __export(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}__export(o(26)),__export(o(377))},377:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=o(378),s=o(27),c=o(379),u=o(380),f=o(385),p=o(388),l=o(396),d=o(392),m=o(397),h=o(394),y=function(){function AuthModule(){}return AuthModule=n([i.NgModule({imports:[a.ReactiveFormsModule,s.HttpModule,p.authRouting,m.SharedModule],declarations:[c.AuthComponent,u.LoginComponent,f.RegisterComponent,l.VerifyComponent,d.ForgotPasswordComponent,h.ResetPasswordComponent]}),r("design:paramtypes",[])],AuthModule)}();t.AuthModule=y},379:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=function(){function AuthComponent(){}return AuthComponent=n([i.Component({selector:"my-auth",template:"<router-outlet></router-outlet>"}),r("design:paramtypes",[])],AuthComponent)}();t.AuthComponent=a},380:function(e,t,o){"use strict";function __export(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}__export(o(381))},381:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=o(26),s=o(378),c=o(369),u=o(382),f=o(383),p=function(){function LoginComponent(e,t,o,n){this.formBuilder=e,this.auth=t,this.alertService=o,this.loadingBar=n}return LoginComponent.prototype.ngOnInit=function(){this.loginForm=this.formBuilder.group({userName:["",[s.Validators.required,u.FormValidationService.emailValidator]],password:["",[s.Validators.required,u.FormValidationService.passwordValidator]]})},LoginComponent.prototype.onSubmit=function(){var e=this;this.loadingBar.isLoading(),this.auth.login(this.loginForm.value)["finally"](function(){return e.loadingBar.doneLoading()}).subscribe(function(t){return e.alertService.sendSuccess("Successfully logged in")},function(t){return e.errors=t})},LoginComponent=n([i.Component({selector:"login",template:o(384)}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof s.FormBuilder&&s.FormBuilder)&&e||Object,"function"==typeof(t="undefined"!=typeof a.AuthService&&a.AuthService)&&t||Object,"function"==typeof(p="undefined"!=typeof c.AlertService&&c.AlertService)&&p||Object,"function"==typeof(l="undefined"!=typeof f.LoadingBarService&&f.LoadingBarService)&&l||Object])],LoginComponent);var e,t,p,l}();t.LoginComponent=p},382:function(e,t){"use strict";var o=function(){function FormValidationService(){}return FormValidationService.getValidatorErrorMessage=function(e,t){var o={required:"Required",invalidCreditCard:"Is invalid credit card number",invalidEmailAddress:"Invalid email address",invalidPassword:"Invalid password. Password must be at least 6 characters long, and contain a number.",minlength:"Minimum length "+t.requiredLength,invalidCompare:"Passwords must match"};return o[e]},FormValidationService.passwordComparisonValidator=function(e){var t=e.controls.password,o=e.controls.confirmPassword;return t.dirty&&o.dirty&&t.value==o.value?null:{invalidCompare:!0}},FormValidationService.creditCardValidator=function(e){return e.value.match(/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/)?null:{invalidCreditCard:!0}},FormValidationService.emailValidator=function(e){return e.value.match(/\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/)?null:{invalidEmailAddress:!0}},FormValidationService.passwordValidator=function(e){return e.value.match(/^(?=.*[0-9])[a-zA-Z0-9!@#$%^&*]{6,100}$/)?null:{invalidPassword:!0}},FormValidationService}();t.FormValidationService=o},383:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=o(45),s=function(){function LoadingBarService(){this.loadingStatus=new a.Subject,this.loadingStatus$=this.loadingStatus.asObservable()}return LoadingBarService.prototype.isLoading=function(){this.updateStatus(!0)},LoadingBarService.prototype.doneLoading=function(){this.updateStatus(!1)},LoadingBarService.prototype.updateStatus=function(e){this.loadingStatus.next(e)},LoadingBarService=n([i.Injectable(),r("design:paramtypes",[])],LoadingBarService)}();t.LoadingBarService=s},384:function(e,t){e.exports='<h1>Login</h1>\r\n<form [formGroup]="loginForm" (ngSubmit)="onSubmit()" >\r\n\r\n    <validation-summary [errorMessages]="errors" ></validation-summary>\r\n\r\n    <div>\r\n        <label>User Name: </label>\r\n        <input type="text" formControlName="userName" />\r\n        <control-messages [control]="loginForm.controls.userName"></control-messages>\r\n    </div>\r\n\r\n    <div>\r\n        <label>Password: </label>\r\n        <input type="text" formControlName="password" />\r\n        <control-messages [control]="loginForm.controls.password"></control-messages>\r\n    </div>\r\n\r\n\r\n    <button type="submit" [disabled]="!loginForm.valid" >Submit</button>\r\n    <a  routerLink="/auth/forgot-password" >Forgot your password?</a>\r\n</form>'},385:function(e,t,o){"use strict";function __export(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}__export(o(386))},386:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=o(378),s=o(26),c=o(382),u=o(369),f=o(367),p=function(){function RegisterComponent(e,t,o,n){this.formBuilder=e,this.authService=t,this.alertService=o,this.router=n}return RegisterComponent.prototype.ngOnInit=function(){this.registerForm=this.formBuilder.group({userName:["",[a.Validators.required,c.FormValidationService.emailValidator]],passwords:this.formBuilder.group({password:["",[a.Validators.required,c.FormValidationService.passwordValidator]],confirmPassword:["",[a.Validators.required,c.FormValidationService.passwordValidator]]},{validator:c.FormValidationService.passwordComparisonValidator})})},RegisterComponent.prototype.onSubmit=function(){var e=this,t=Object.assign({},this.registerForm.value,this.registerForm.value.passwords);this.authService.register(t).subscribe(function(t){e.alertService.sendSuccess("Successfully registered"),e.router.navigateByUrl("/auth/login")},function(t){return e.errors=t})},RegisterComponent=n([i.Component({selector:"register",template:o(387)}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.FormBuilder&&a.FormBuilder)&&e||Object,"function"==typeof(t="undefined"!=typeof s.AuthService&&s.AuthService)&&t||Object,"function"==typeof(p="undefined"!=typeof u.AlertService&&u.AlertService)&&p||Object,"function"==typeof(l="undefined"!=typeof f.Router&&f.Router)&&l||Object])],RegisterComponent);var e,t,p,l}();t.RegisterComponent=p},387:function(e,t){e.exports='<h1>Register</h1>\r\n\r\n<form [formGroup]="registerForm" novalidate (ngSubmit)="onSubmit()">\r\n\r\n    <validation-summary [errorMessages]="errors"></validation-summary>\r\n\r\n    <div>\r\n        <label>User name (Email) </label>\r\n        <input type="text" formControlName="userName" />\r\n        <control-messages [control]="registerForm.controls.userName"></control-messages>\r\n    </div>\r\n\r\n    <div [formGroup]="registerForm.controls.passwords">\r\n        <div>\r\n            <label>password</label>\r\n            <input type="text" formControlName="password" />\r\n            <control-messages [control]="registerForm.controls.passwords.controls.password"></control-messages>\r\n        </div>\r\n\r\n        <div>\r\n           <label>confirmPassword</label>\r\n           <input type="text" formControlName="confirmPassword" />\r\n            <control-messages [control]="registerForm.controls.passwords.controls.confirmPassword"></control-messages>\r\n        </div>\r\n        <div *ngIf="registerForm.controls.passwords.errors?.invalidCompare && registerForm.controls.passwords.touched">\r\n            Passwords must match\r\n        </div>\r\n    </div>\r\n\r\n    <button type="submit" [disabled]="!registerForm.valid" >Submit</button>\r\n</form>\r\n'},388:function(e,t,o){"use strict";var n=o(367),r=o(381),i=o(386),a=o(379),s=o(389),c=o(392),u=o(394),f=[{path:"auth",component:a.AuthComponent,children:[{path:"",component:r.LoginComponent},{path:"login",component:r.LoginComponent},{path:"register",component:i.RegisterComponent},{path:"forgot-password",component:c.ForgotPasswordComponent},{path:"reset-password",component:u.ResetPasswordComponent},{path:"verify",component:s.VerifyComponent},{path:"verify/:id/:code",component:s.VerifyComponent},{path:"forgot-password",component:i.RegisterComponent}]}];t.authRouting=n.RouterModule.forChild(f)},389:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=o(390),s=o(369),c=o(367),u=o(27),f=o(383),p=o(26),l=o(28),d=function(){function VerifyComponent(e,t,o,n,r,i,a){this.profile=e,this.authHttp=t,this.alert=o,this.route=n,this.http=r,this.loadingBar=i,this.auth=a}return VerifyComponent.prototype.ngOnInit=function(){if(!this.auth.isLoggedIn)return void this.alert.sendWarning("You are not logged in");if(!this.profile.isEmailConfirmed()){var e=this.route.snapshot.queryParams.code,t=this.route.snapshot.queryParams.userId;e&&t?this.confirmEmail(e,t):this.sendConfirmationEmail()}},VerifyComponent.prototype.confirmEmail=function(e,t){var o=this;e=encodeURIComponent(e),this.http.get("api/account/ConfirmEmail?userId="+t+"&code="+e).subscribe(function(e){o.auth.refreshTokens().subscribe(function(){return o.alert.sendSuccess("Your email has been confirmed")},function(e){return o.alert.sendError("an error occured soz")})},function(e){return o.alert.sendError("an error occured soz")})},VerifyComponent.prototype.sendConfirmationEmail=function(){var e=this;this.loadingBar.isLoading(),this.authHttp.get("api/account/SendConfirmEmail").subscribe(function(){return e.alert.sendSuccess("A confirmation email has been send")},function(t){return e.alert.sendError(t)},function(){return e.loadingBar.doneLoading()})},VerifyComponent=n([i.Component({selector:"verify",template:o(391)}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.ProfileService&&a.ProfileService)&&e||Object,"function"==typeof(t="undefined"!=typeof l.AuthHttp&&l.AuthHttp)&&t||Object,"function"==typeof(d="undefined"!=typeof s.AlertService&&s.AlertService)&&d||Object,"function"==typeof(m="undefined"!=typeof c.ActivatedRoute&&c.ActivatedRoute)&&m||Object,"function"==typeof(h="undefined"!=typeof u.Http&&u.Http)&&h||Object,"function"==typeof(y="undefined"!=typeof f.LoadingBarService&&f.LoadingBarService)&&y||Object,"function"==typeof(g="undefined"!=typeof p.AuthService&&p.AuthService)&&g||Object])],VerifyComponent);var e,t,d,m,h,y,g}();t.VerifyComponent=d},390:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=o(26),s=function(){function ProfileService(e){this.auth=e}return ProfileService.prototype.getUsername=function(){var e=this.getProfile();return e?e.unique_name:""},ProfileService.prototype.isEmailConfirmed=function(){var e=this.getProfile();if(e){var t=e.email_confirmed;return"True"==t.toString()}return!1},ProfileService.prototype.isInRole=function(e){var t=this.getProfile();if(t){var o=this.auth.retrieveProfile();return!!o.role&&o.role.indexOf(e,0)>-1}return!1},ProfileService.prototype.getProfile=function(){return this.auth.retrieveProfile()},ProfileService=n([i.Injectable(),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.AuthService&&a.AuthService)&&e||Object])],ProfileService);var e}();t.ProfileService=s},391:function(e,t){e.exports='<div *ngIf="profile.isEmailConfirmed()">\r\n    Congratulations, you email is confirmed :D\r\n</div>\r\n\r\n<div *ngIf="!profile.isEmailConfirmed()">\r\n    <button (click)="sendConfirmationEmail()">Click to resend confirmation email</button>\r\n</div>'},392:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=o(378),s=o(26),c=o(382),u=o(383),f=o(369),p=o(28),l=function(){function ForgotPasswordComponent(e,t,o,n,r){this.formBuilder=e,this.auth=t,this.alert=o,this.loadingBar=n,this.authHttp=r}return ForgotPasswordComponent.prototype.ngOnInit=function(){this.forgotPasswordForm=this.formBuilder.group({userName:["",[a.Validators.required,c.FormValidationService.emailValidator]]})},ForgotPasswordComponent.prototype.onSubmit=function(){var e=this;this.loadingBar.isLoading(),this.authHttp.post("api/account/SendForgotPassword",this.forgotPasswordForm.value).subscribe(function(t){return e.alert.sendSuccess("A message has been send to your email")},function(t){return e.alert.sendError(t)},function(){return e.loadingBar.doneLoading()})},ForgotPasswordComponent=n([i.Component({selector:"forgot-password",template:o(393)}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.FormBuilder&&a.FormBuilder)&&e||Object,"function"==typeof(t="undefined"!=typeof s.AuthService&&s.AuthService)&&t||Object,"function"==typeof(l="undefined"!=typeof f.AlertService&&f.AlertService)&&l||Object,"function"==typeof(d="undefined"!=typeof u.LoadingBarService&&u.LoadingBarService)&&d||Object,"function"==typeof(m="undefined"!=typeof p.AuthHttp&&p.AuthHttp)&&m||Object])],ForgotPasswordComponent);var e,t,l,d,m}();t.ForgotPasswordComponent=l},393:function(e,t){e.exports='<h1>Forgot your password?</h1>\r\n\r\n<form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">\r\n    <div>\r\n        <label>User Name: </label>\r\n        <input type="text" formControlName="userName" />\r\n        <control-messages [control]="forgotPasswordForm.controls.userName"></control-messages>\r\n    </div>\r\n\r\n\r\n\r\n    <button type="submit" [disabled]="!forgotPasswordForm.valid" >Submit</button>\r\n</form>'},394:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=o(383),s=o(367),c=o(369),u=o(27),f=o(378),p=o(382),l=function(){function ResetPasswordComponent(e,t,o,n,r,i){this.alert=e,this.route=t,this.router=o,this.http=n,this.loadingBar=r,this.formBuilder=i}return ResetPasswordComponent.prototype.ngOnInit=function(){var e=this.route.snapshot.queryParams.code,t=this.route.snapshot.queryParams.userId;e&&t?(this.id=t,this.code=e):this.alert.sendError("Missing UserID and reset code"),this.resetPasswordForm=this.formBuilder.group({
password:["",[f.Validators.required,p.FormValidationService.passwordValidator]],confirmPassword:["",[f.Validators.required,p.FormValidationService.passwordValidator]]},{validator:p.FormValidationService.passwordComparisonValidator})},ResetPasswordComponent.prototype.onSubmit=function(){var e=this;this.loadingBar.isLoading();var t=Object.assign({},this.resetPasswordForm.value,{userId:this.id,code:this.code});this.http.post("api/account/resetpassword",t).subscribe(function(){e.alert.sendSuccess("Successfully reset password"),e.router.navigate(["auth/login"])},function(t){return e.alert.sendError(t)},function(){return e.loadingBar.doneLoading()})},ResetPasswordComponent=n([i.Component({selector:"reset-password",template:o(395)}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof c.AlertService&&c.AlertService)&&e||Object,"function"==typeof(t="undefined"!=typeof s.ActivatedRoute&&s.ActivatedRoute)&&t||Object,"function"==typeof(l="undefined"!=typeof s.Router&&s.Router)&&l||Object,"function"==typeof(d="undefined"!=typeof u.Http&&u.Http)&&d||Object,"function"==typeof(m="undefined"!=typeof a.LoadingBarService&&a.LoadingBarService)&&m||Object,"function"==typeof(h="undefined"!=typeof f.FormBuilder&&f.FormBuilder)&&h||Object])],ResetPasswordComponent);var e,t,l,d,m,h}();t.ResetPasswordComponent=l},395:function(e,t){e.exports='<h1>Forgot your password?</h1>\r\n\r\n<form [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()">\r\n\r\n    <div>\r\n        <label>New Password</label>\r\n        <input type="text" formControlName="password" />\r\n        <control-messages [control]="resetPasswordForm.controls.password"></control-messages>\r\n    </div>\r\n\r\n    <div>\r\n        <label>Confirm New Password</label>\r\n        <input type="text" formControlName="confirmPassword" />\r\n        <control-messages [control]="resetPasswordForm.controls.confirmPassword"></control-messages>\r\n    </div>\r\n    <div *ngIf="resetPasswordForm.errors?.invalidCompare && resetPasswordForm.touched">\r\n        Passwords must match\r\n    </div>\r\n\r\n    <button type="submit" [disabled]="!resetPasswordForm.valid" >Submit</button>\r\n</form>'},396:function(e,t,o){"use strict";function __export(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}__export(o(389))},397:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=o(23),s=o(398),c=o(402),u=o(406),f=o(408),p=function(){function SharedModule(){}return SharedModule=n([i.NgModule({imports:[a.CommonModule],declarations:[s.LoadingBarComponent,c.AlertComponent,u.ControlMessagesComponent,f.ValidationSummaryComponent],exports:[s.LoadingBarComponent,c.AlertComponent,u.ControlMessagesComponent,a.CommonModule,f.ValidationSummaryComponent]}),r("design:paramtypes",[])],SharedModule)}();t.SharedModule=p},398:function(e,t,o){"use strict";function __export(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}__export(o(399)),__export(o(383))},399:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=o(383),s=function(){function LoadingBarComponent(e){this.loadingBarService=e,this.isLoading=!1}return LoadingBarComponent.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},LoadingBarComponent.prototype.ngOnInit=function(){var e=this;this.subscription=this.loadingBarService.loadingStatus$.subscribe(function(t){e.isLoading=t})},LoadingBarComponent=n([i.Component({selector:"loading-bar",template:'\n<div *ngIf="isLoading" class="load-bar">\n  <div class="bar"></div>\n    <div class="bar"></div>\n  <div class="bar"></div>\n  </div>',styles:[o(400)]}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.LoadingBarService&&a.LoadingBarService)&&e||Object])],LoadingBarComponent);var e}();t.LoadingBarComponent=s},400:function(e,t,o){var n=o(401);"string"==typeof n?e.exports=n:e.exports=n.toString()},401:function(e,t,o){t=e.exports=o(365)(),t.push([e.id,'.load-bar{position:relative;width:100%;height:6px;background-color:#fdba2c}.bar{content:"";display:inline;position:absolute;width:0;height:100%;left:50%;text-align:center}.bar:nth-child(1){background-color:#da4733;-webkit-animation:loading 3s linear infinite;animation:loading 3s linear infinite}.bar:nth-child(2){background-color:#3b78e7;-webkit-animation:loading 3s linear 1s infinite;animation:loading 3s linear 1s infinite}.bar:nth-child(3){background-color:#fdba2c;-webkit-animation:loading 3s linear 2s infinite;animation:loading 3s linear 2s infinite}@-webkit-keyframes loading{0%{left:50%;width:0;z-index:100}33.3333%{left:0;width:100%;z-index:10}to{left:0;width:100%}}@keyframes loading{0%{left:50%;width:0;z-index:100}33.3333%{left:0;width:100%;z-index:10}to{left:0;width:100%}}',""])},402:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=o(369),s=function(){function AlertComponent(e){this.alertService=e,this.alerts=[],this.id=1}return AlertComponent.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},AlertComponent.prototype.ngOnInit=function(){var e=this;this.subscription=this.alertService.alertAnnounced$.subscribe(function(t){t.id=e.id,e.id++,e.alerts.push(t),setTimeout(function(){var t=e.alerts.findIndex(function(t){return t.id==e.id-1});e.alerts.splice(t,1),e.id--},5e3)})},AlertComponent=n([i.Component({selector:"alert",template:o(403),styles:[o(404)]}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.AlertService&&a.AlertService)&&e||Object])],AlertComponent);var e}();t.AlertComponent=s},403:function(e,t){e.exports='<div class="alert-container">\r\n    <div *ngFor="let alert of alerts" class="alert {{alert.type}}">\r\n        {{alert.message}}\r\n    </div>\r\n</div>'},404:function(e,t,o){var n=o(405);"string"==typeof n?e.exports=n:e.exports=n.toString()},405:function(e,t,o){t=e.exports=o(365)(),t.push([e.id,".alert-container{z-index:-1;position:fixed;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%}.alert{z-index:1;max-width:300px;text-align:center;background-color:#d3d3d3}",""])},406:function(e,t,o){"use strict";function __export(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}__export(o(382)),__export(o(407))},407:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=o(378),s=o(382),c=function(){function ControlMessagesComponent(){}return Object.defineProperty(ControlMessagesComponent.prototype,"errorMessage",{get:function(){for(var e in this.control.errors)if(this.control.errors.hasOwnProperty(e)&&this.control.touched)return s.FormValidationService.getValidatorErrorMessage(e,this.control.errors[e]);return null},enumerable:!0,configurable:!0}),n([i.Input(),r("design:type","function"==typeof(e="undefined"!=typeof a.FormControl&&a.FormControl)&&e||Object)],ControlMessagesComponent.prototype,"control",void 0),ControlMessagesComponent=n([i.Component({selector:"control-messages",template:'<div *ngIf="errorMessage !== null">{{errorMessage}}</div>'}),r("design:paramtypes",[])],ControlMessagesComponent);var e}();t.ControlMessagesComponent=c},408:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=function(){function ValidationSummaryComponent(){}return n([i.Input(),r("design:type",Array)],ValidationSummaryComponent.prototype,"errorMessages",void 0),ValidationSummaryComponent=n([i.Component({selector:"validation-summary",template:'\n<div>\n    <div *ngFor="let error of errorMessages">\n        - {{error}}\n    </div>\n</div>'}),r("design:paramtypes",[])],ValidationSummaryComponent)}();t.ValidationSummaryComponent=a},409:function(e,t,o){"use strict";function __export(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}__export(o(368))},410:function(e,t,o){"use strict";function __export(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}__export(o(372))},411:function(e,t,o){"use strict";function __export(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}__export(o(412))},412:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=o(26),s=o(390),c=function(){function NavigationComponent(e,t){this.auth=e,this.profile=t}return NavigationComponent=n([i.Component({selector:"navigation",template:o(413),styles:[o(414)]}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.AuthService&&a.AuthService)&&e||Object,"function"==typeof(t="undefined"!=typeof s.ProfileService&&s.ProfileService)&&t||Object])],NavigationComponent);var e,t}();t.NavigationComponent=c},413:function(e,t){e.exports='<nav>\r\n    <div class="left">\r\n        <a routerLink="/">Home</a>\r\n        <a routerLink="/auth/login">Login</a>\r\n        <a routerLink="/auth/register">Register</a>\r\n        <a routerLink="/auth/verify">Verify</a>\r\n        <a routerLink="/admin/roles">Roles</a>\r\n        <a routerLink="/admin/users">Users</a>\r\n    </div>\r\n\r\n    <div class="right">\r\n        <div *ngIf="auth.isLoggedIn" >Welcome {{profile.getUsername()}}</div>\r\n        <a routerLink="/" *ngIf="auth.isLoggedIn" (click)="auth.logout()" >Logout</a>\r\n    </div>\r\n</nav>'},414:function(e,t,o){var n=o(415);"string"==typeof n?e.exports=n:e.exports=n.toString()},415:function(e,t,o){t=e.exports=o(365)(),t.push([e.id,"nav{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}",""])},416:function(e,t,o){"use strict";function __export(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}__export(o(417)),__export(o(418))},417:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=function(){function AdminComponent(){}return AdminComponent=n([i.Component({selector:"admin",template:"<router-outlet></router-outlet>"}),r("design:paramtypes",[])],AdminComponent)}();t.AdminComponent=a},418:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(23),a=o(378),s=o(419),c=o(420),u=o(4),f=o(417),p=o(422),l=o(426),d=function(){function AdminModule(){}return AdminModule=n([u.NgModule({imports:[i.CommonModule,a.ReactiveFormsModule,s.adminRouting],declarations:[f.AdminComponent,c.RolesComponent,p.UsersComponent],providers:[l.SuperAdminAuthGuard]}),r("design:paramtypes",[])],AdminModule)}();t.AdminModule=d},419:function(e,t,o){"use strict";var n=o(367),r=o(417),i=o(420),a=o(422),s=o(426),c=[{path:"admin",component:r.AdminComponent,canActivate:[s.SuperAdminAuthGuard],children:[{path:"",component:i.RolesComponent},{path:"roles",component:i.RolesComponent},{path:"users",component:a.UsersComponent}]}];t.adminRouting=n.RouterModule.forChild(c)},420:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=function(){function RolesComponent(){}return RolesComponent=n([i.Component({selector:"admin",template:o(421)}),r("design:paramtypes",[])],RolesComponent)}();t.RolesComponent=a},421:function(e,t){e.exports="roles :D"},422:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=o(383),s=o(28),c=function(){function UsersComponent(e,t){this.authHttp=e,this.loadingBar=t}return UsersComponent.prototype.ngOnInit=function(){var e=this;this.loadingBar.isLoading(),this.authHttp.get("api/users/getusers").subscribe(function(t){return e.users=t.json()},function(e){return console.log(e)},function(){return e.loadingBar.doneLoading()})},UsersComponent=n([i.Component({selector:"users",template:o(423),styles:[o(424)]}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof s.AuthHttp&&s.AuthHttp)&&e||Object,"function"==typeof(t="undefined"!=typeof a.LoadingBarService&&a.LoadingBarService)&&t||Object])],UsersComponent);var e,t}();t.UsersComponent=c},423:function(e,t){e.exports='<h3>Users</h3>\r\n<div class="users">\r\n    <div *ngIf="users" class="users__user" >\r\n        <div *ngFor="let user of users">\r\n            <div>\r\n                {{user.id}}\r\n            </div>\r\n            <div>\r\n                {{user.userName}}\r\n            </div>\r\n            <div>\r\n                {{user.emailConfirmed}}\r\n            </div>\r\n            <div>\r\n                {{user.joinDate}}\r\n            </div>\r\n            <div>\r\n                {{user.url}}\r\n            </div>\r\n            <div>\r\n                {{user.firstName}}\r\n            </div>\r\n            <div>\r\n                {{user.lastName}}\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>'},424:function(e,t,o){var n=o(425);"string"==typeof n?e.exports=n:e.exports=n.toString()},425:function(e,t,o){t=e.exports=o(365)(),t.push([e.id,".users{display:-webkit-box;display:-ms-flexbox;display:flex}.users__user{width:300px;box-shadow:5px 5px 2px #d3d3d3;padding:5px}",""])},426:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=o(4),a=o(367),s=o(369),c=o(390),u=o(26),f=function(){function SuperAdminAuthGuard(e,t,o,n){this.router=e,this.alertService=t,this.profile=o,this.auth=n}return SuperAdminAuthGuard.prototype.canActivate=function(){return this.auth.isLoggedIn?!!this.profile.isInRole("SuperAdmin")||(this.alertService.sendError("Unauthorized"),this.router.navigate(["unauthorized"]),!1):(this.alertService.sendError("You are not logged in"),this.router.navigate(["auth/login"]),!1)},SuperAdminAuthGuard=n([i.Injectable(),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.Router&&a.Router)&&e||Object,"function"==typeof(t="undefined"!=typeof s.AlertService&&s.AlertService)&&t||Object,"function"==typeof(o="undefined"!=typeof c.ProfileService&&c.ProfileService)&&o||Object,"function"==typeof(f="undefined"!=typeof u.AuthService&&u.AuthService)&&f||Object])],SuperAdminAuthGuard);var e,t,o,f}();t.SuperAdminAuthGuard=f},427:function(e,t,o){"use strict";function __export(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}__export(o(374))},428:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__param||function(e,t){return function(o,n){t(o,n,e)}},a=o(4),s=o(383),c=o(369),u=o(26),f=o(390),p=o(28),l=o(426),d=function(){function CoreModule(e){if(e)throw new Error("CoreModule is already loaded. Import it in the AppModule only")}return CoreModule=n([a.NgModule({providers:[s.LoadingBarService,c.AlertService,u.AuthService,f.ProfileService,l.SuperAdminAuthGuard,p.provideAuth({headerName:"Authorization",headerPrefix:"Bearer",tokenName:"access_token",tokenGetter:function(){return localStorage.getItem("access_token")},globalHeaders:[{"Content-Type":"application/json"}],noJwtError:!0,noTokenScheme:!0})]}),i(0,a.Optional()),i(0,a.SkipSelf()),r("design:paramtypes",[CoreModule])],CoreModule)}();t.CoreModule=d},429:function(e,t,o){"use strict";function __export(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}__export(o(430))},430:function(e,t){"use strict";function bootloader(e){"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e)}function createNewHosts(e){var t=e.map(function(e){var t=document.createElement(e.tagName),o=t.style.display;t.style.display="none";var n=e.parentNode;return n.insertBefore(t,e),{currentDisplay:o,newNode:t}});return function(){t.forEach(function(e){e.newNode.style.display=e.currentDisplay,e.newNode=null,e.currentDisplay=null})}}function removeNgStyles(){Array.prototype.slice.call(document.head.querySelectorAll("style"),0).filter(function(e){return e.innerText.indexOf("_ng")!==-1}).map(function(e){return e.remove()})}function getInputValues(){var e=document.querySelectorAll("input");return Array.prototype.slice.call(e).map(function(e){return e.value})}function setInputValues(e){var t=document.querySelectorAll("input");e&&t.length===e.length&&e.forEach(function(e,o){var n=t[o];n.value=e,n.dispatchEvent(new CustomEvent("input",{detail:n.value}))})}function createInputTransfer(){var e=getInputValues();return function(){setInputValues(e)}}t.bootloader=bootloader,t.createNewHosts=createNewHosts,t.removeNgStyles=removeNgStyles,t.getInputValues=getInputValues,t.setInputValues=setInputValues,t.createInputTransfer=createInputTransfer}});
//# sourceMappingURL=app.488753b765f15a693b72.js.map